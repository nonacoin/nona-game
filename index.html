<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dice Party - ูุณุฎู ุฑูฺฏุงุฑูฺฏ</title>
    <link href="https://cdn.jsdelivr.net/gh/rastikerdar/vazirmatn@v33.003/Vazirmatn-font-face.css" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- ุงุณฺฉุฑูพุช Supabase -->
    <script src="https://unpkg.com/@supabase/supabase-js@2"></script>
    <script>
        // ุงุชุตุงู ุณุงุฏู ู ูุณุชูู
        const SUPABASE_URL = 'https://xouwoemiyxnugontsles.supabase.co';
        const SUPABASE_KEY = 'sb_publishable_MFoTbKuCDjhVCs1-xvKNag_UwhV0tF-';

        try {
            window.supabase = supabase.createClient(SUPABASE_URL, SUPABASE_KEY);
            console.log('โ Supabase ุจุฑุง ุจุงุฒ ูุตู ุดุฏ');
            
            // ุชุณุช ุณุฑุน
            setTimeout(() => {
                window.supabase.rpc('test_game_connection').then(result => {
                    if (result.data) {
                        console.log('๐ฏ ุณุฑูุฑ ุจุงุฒ ูพุงุณุฎ ุฏุงุฏ:', result.data.message);
                    }
                    if (result.error) {
                        console.warn('โ๏ธ  ุฎุทุง ุฏุฑ ุชุณุช:', result.error.message);
                    }
                });
            }, 1000);
            
        } catch (error) {
            console.error('โ ุฎุทุง ุฏุฑ ุงุชุตุงู:', error);
        }
    </script>

    <!-- ุณุงุฎุชุงุฑ HTML ุจุงุฒ -->
    <div id="game-container">
        <!-- ุจุฎุด ุจุงูุง: ุงุทูุงุนุงุช ูพูุฑูุง -->
        <div id="top-wrapper">
            <!-- ูพูุฑ 1 -->
            <div id="playerBox1" class="player-box player1 active-player">
                <div class="turn-indicator">ููุจุช ุดูุง</div>
                <div class="player-title">ุจุงุฒฺฉู ฑ</div>
                <div id="player1Timer" class="player-timer active">ณฐ</div>
            </div>
            <!-- ูพูุฑ 2 -->
            <div id="playerBox2" class="player-box player2 inactive">
                <div class="turn-indicator">ููุจุช ุดูุง</div>
                <div class="player-title">ุจุงุฒฺฉู ฒ</div>
                <div id="player2Timer" class="player-timer">ณฐ</div>
            </div>
        </div>

        <!-- ุฌุฏูู ุงูุชุงุฒุงุช ุจุง ุทุฑุญ ุฌุฏุฏ -->
        <div id="score-board">
            <div class="score-header">
                <div class="score-column-title player1">ุจุงุฒฺฉู ฑ</div>
                <div class="score-column-title dice">ุชุงุณ</div>
                <div class="score-column-title player2">ุจุงุฒฺฉู ฒ</div>
            </div>
            <!-- ุฑุฏูโูุง ุชูุณุท ุฌุงูุงุงุณฺฉุฑูพุช ุณุงุฎุชู ูโุดููุฏ -->
        </div>

        <!-- ุจุฎุด ุงุตู ุจุงุฒ -->
        <div id="main-box">
            <!-- ุชุงุณโูุง ุณูโุจุนุฏ -->
            <div id="dice-container"></div>

            <!-- ุฏฺฉููโูุง ุจุงุฒ -->
            <div id="button-row">
                <button id="roll-btn" class="game-btn">ุชุงุณ ุจุฑุฒ</button>
                <button id="play-btn" class="game-btn" disabled>ุซุจุช ฺฉู</button>
            </div>
        </div>

        <!-- ุตูุญู ูุชุงุฌ -->
        <div id="results-screen" class="results-screen">
            <div class="results-title">๐ ูุชุงุฌ ููุง</div>
            <div class="results-columns" id="resultsColumns"></div>
            <button id="restart-btn" class="game-btn" style="margin-top: 18px; background: linear-gradient(135deg, #00cc66, #00994d);">
                ุจุงุฒ ูุฌุฏุฏ
            </button>
        </div>
    </div>

    <!-- ุตุฏุงูุง ุจุงุฒ -->
    <audio id="diceSound" src="sounds/tasandakhtan.wav"></audio>
    <audio id="lockSound" src="sounds/ghofl.wav"></audio>
    <audio id="selectSound" src="sounds/ghofl.wav"></audio>
    <audio id="confirmSound" src="sounds/sabt.wav"></audio>
    <audio id="timeoutSound" src="sounds/sabt.wav"></audio>
    <audio id="warningSound" src="sounds/ghofl.wav"></audio>
    <audio id="tickSound" src="sounds/ghofl.wav"></audio>

    <!-- ุงุณฺฉุฑูพุช ุงุตู ุจุงุฒ -->
    <script src="script.js"></script>
</body>
</html>