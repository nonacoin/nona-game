<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>ุชูุธู ูพุงูุณโูุง Supabase</title>
    <style>
        body { font-family: sans-serif; padding: 20px; }
        .code { background: #f5f5f5; padding: 15px; border-radius: 5px; font-family: monospace; }
        button { padding: 10px 15px; margin: 10px 0; cursor: pointer; }
    </style>
</head>
<body>
    <h1>๐ก๏ธ ุชูุธู ูพุงูุณโูุง Supabase</h1>
    
    <h2>ุฑูุด ฑ: ุบุฑูุนุงู ฺฉุฑุฏู RLS (ุจุฑุง ุชุณุช)</h2>
    <div class="code">
        ALTER TABLE dice_party_games DISABLE ROW LEVEL SECURITY;
    </div>
    <p>ุงู ฺฉุฏ ุฑุง ุฏุฑ SQL Editor ุงุฌุฑุง ฺฉูุฏ.</p>
    
    <h2>ุฑูุด ฒ: ุงุฌุงุฏ ูพุงูุณ ุนููู (ุจุฑุง ุชุณุช)</h2>
    <div class="code">
        -- ูุนุงู ฺฉุฑุฏู RLS<br>
        ALTER TABLE dice_party_games ENABLE ROW LEVEL SECURITY;<br><br>
        
        -- ูพุงูุณ SELECT<br>
        CREATE POLICY "Allow public read access" ON dice_party_games<br>
        FOR SELECT USING (true);<br><br>
        
        -- ูพุงูุณ INSERT<br>
        CREATE POLICY "Allow public insert access" ON dice_party_games<br>
        FOR INSERT WITH CHECK (true);<br><br>
        
        -- ูพุงูุณ UPDATE<br>
        CREATE POLICY "Allow public update access" ON dice_party_games<br>
        FOR UPDATE USING (true) WITH CHECK (true);
    </div>
    
    <h2>ุฑูุด ณ: ูพุงูุณ ุงูู ุจุฑุง ุจุงุฒ (ูพุดููุงุฏ)</h2>
    <div class="code">
        -- ูุนุงู ฺฉุฑุฏู RLS<br>
        ALTER TABLE dice_party_games ENABLE ROW LEVEL SECURITY;<br><br>
        
        -- ูุฑ ฺฉุณ ูโุชูุงูุฏ ุจุงุฒโูุง ุฑุง ุจุจูุฏ<br>
        CREATE POLICY "Anyone can view games" ON dice_party_games<br>
        FOR SELECT USING (true);<br><br>
        
        -- ููุท ุงุชุงูโูุง ูุฑุจูุท ุจู ฺฉุงุฑุจุฑ ูุงุจู ุขูพุฏุช<br>
        CREATE POLICY "Users can update their games" ON dice_party_games<br>
        FOR UPDATE USING (<br>
            room_id LIKE 'user_%' OR <br>
            auth.uid()::text IN (player1_telegram_id, player2_telegram_id)<br>
        );<br><br>
        
        -- ูุฑ ฺฉุณ ูโุชูุงูุฏ ุจุงุฒ ุฌุฏุฏ ุงุฌุงุฏ ฺฉูุฏ<br>
        CREATE POLICY "Anyone can create games" ON dice_party_games<br>
        FOR INSERT WITH CHECK (true);
    </div>
    
    <h2>ูุญูู ุงุฌุฑุง:</h2>
    <ol>
        <li>ุจู <a href="https://app.supabase.com" target="_blank">ุฏุงุดุจูุฑุฏ Supabase</a> ุจุฑูุฏ</li>
        <li>ูพุฑูฺู ุฎูุฏ ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ</li>
        <li>ุงุฒ ููู ุณูุช ฺูพ ุจู SQL Editor ุจุฑูุฏ</li>
        <li>ฺฉุฏ ุฏูุฎูุงู ุฑุง ุฏุฑ ูุฑุงุดฺฏุฑ ฺฉูพ ฺฉูุฏ</li>
        <li>ุฑู ุฏฺฉูู Run ฺฉูฺฉ ฺฉูุฏ</li>
        <li>ุจุนุฏ ุงุฒ ููููุชุ ุชุณุช ุฑุง ูุฌุฏุฏุงู ุงูุฌุงู ุฏูุฏ</li>
    </ol>
    
    <button onclick="window.open('https://app.supabase.com', '_blank')">
        ุจุงุฒ ฺฉุฑุฏู ุฏุงุดุจูุฑุฏ Supabase
    </button>
    <button onclick="location.reload()">
        ุจุฑูุฒุฑุณุงู ุตูุญู
    </button>
</body>
</html>
